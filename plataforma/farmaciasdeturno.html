<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Farmacia de Turno</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-blue-50 font-sans italic text-gray-800 min-h-screen">
    <div class="text-center mt-10">
      <img src="https://raw.githubusercontent.com/liqko/guia-local-dolores/main/img/plataforma/farmacia.png" alt="Logo Farmacia" class="mx-auto mb-4 w-24 rounded-lg shadow-md bg-white p-2">
      <h1 class="text-3xl font-bold">Farmacia de Turno</h1>
    </div>

    <div id="events" class="max-w-lg mx-auto mt-8 bg-white p-6 rounded-xl shadow-md text-center text-lg">
      <p class="text-gray-600">Cargando información...</p>
    </div>

    <script>
      const URL = "https://script.google.com/macros/s/AKfycbxY6soDFCQQ5X5fLDF8_pYNiFDFQVGTiHZrg_70M3ZhD9c-52TwsJiAmEFGX-VHmc_JJQ/exec";

      fetch(URL)
        .then(res => res.json())
        .then(data => {
          const contenedor = document.getElementById("events");

          if (!data || data.length === 0 || !data[0].nombre) {
            contenedor.innerHTML = `<p class="text-red-600 font-semibold">No hay farmacias de turno hoy.</p>`;
            return;
          }

          const farmacia = data[0];

          contenedor.innerHTML = `
            <div class="text-left">
              <p><strong>Farmacia:</strong> ${farmacia.nombre}</p>
              <p><strong>Dirección:</strong> ${farmacia.direccion}</p>
              <p><strong>Teléfono:</strong> <a href="tel:${farmacia.telefono}" class="text-blue-600 hover:underline">${farmacia.telefono}</a></p>
              <p><strong>Horario:</strong> ${farmacia.horario}</p>
            </div>
          `;
        })
        .catch(err => {
          document.getElementById("events").innerHTML =
            `<p class="text-red-600 font-semibold">Error al cargar los datos. Intenta más tarde.<br>${err.message}</p>`;
        });
    </script>
  </body>
</html>
